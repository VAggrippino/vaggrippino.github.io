<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accessible Animated Star Rating | Vince's Website</title>

    <link rel="icon" type="image/png" href="/images/favicon/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/svg+xml" href="/images/favicon/favicon.svg">
    <link rel="shortcut icon" href="/images/favicon/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png">
    <meta name="apple-mobile-web-app-title" content="Vince's Website">
    <link rel="manifest" href="/images/favicon/site.webmanifest">

    <link rel="stylesheet" href="https://unpkg.com/prismjs@1.29.0/themes/prism-okaidia.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <link rel="stylesheet" href="/css/style.css">

    

    
</head>
<body class="post">
    <header class="header">
        <nav class="main-nav">
    <button type="button" aria-expanded="false" aria-controls="main-nav__list" class="main-nav__control">
        <i aria-hidden="true" class="fa-solid fa-burger"></i>
        <span class="main-nav__title">Main Menu</span>
    </button>
    <ul id="main-nav__list" role="list" class="main-nav__list">
        <li class="main-nav__item">
            <a href="/">
                <i aria-hidden="true" class="fa-solid fa-house"></i>
                <span>Home</span>
            </a>
        </li>
<li class="main-nav__item">
            <a href="/blog/">
                <i aria-hidden="true" class="fa-solid fa-newspaper"></i>
                <span>Blog</span>
            </a>
        </li>
<li class="main-nav__item">
            <a href="/projects/">
                <i aria-hidden="true" class="fa-solid fa-sitemap"></i>
                <span>Projects</span>
            </a>
        </li>
<li class="main-nav__item">
            <a href="/wiki/">
                <i aria-hidden="true" class="fa-solid fa-book-bookmark"></i>
                <span>Wiki</span>
            </a>
        </li>
<li class="main-nav__item">
            <a href="/about/">
                <i aria-hidden="true" class="fa-solid fa-id-card"></i>
                <span>About</span>
            </a>
        </li>
<li class="main-nav__item">
            <a href="/contact/">
                <i aria-hidden="true" class="fa-solid fa-comment"></i>
                <span>Contact</span>
            </a>
        </li>
    </ul>
</nav>
    </header>

    <main class="main"><article class="h-entry">
    <h1 class="post__title p-name"><a href="/2025/03/animated-rating-stars/" class="u-url">Accessible Animated Star Rating</a></h1>
<time datetime="2025-03-22T00:00:00.000Z" class="post__date dt-published">22nd March 2025 - Saturday</time><div class="e-content">
<figure class="post__image">
    <a href="/2025/03/animated-rating-stars/"><img src="/images/Animated_Star_Rating_demo.gif" alt="Showing the animation of selecting 5 stars"></a></figure>
<p>I saw <a href="https://techhub.social/@gundersen@mastodon.social/114197012843039297">a post on Mastodon</a> where the author, Marius Gundersen, used CSS to create a 0 to 5 star rating widget with an animated gradient and no JavaScript. It's really neat, but the code is hard to read and it's completely inaccessible.</p>
<h2>JavaScript <em>is</em> Essential</h2>
<p>There seems to be a growing sentiment within the Web Development community that JavaScript should be eliminated at all costs. Well, the cost is often accessibility. And accessibility is essential for all websites. Don't take my word for it, though. As detailed by Adrian Roselli, <a href="https://adrianroselli.com/2023/03/css-only-widgets-are-inaccessible.html">CSS-only Widgets Are Inaccessible</a> and a key takeaway from Sara Soueidan's experience learning and teaching accessibility is that <a href="https://www.sarasoueidan.com/blog/what-accessibility-taught-me/#javascript-is-imperative-for-creating-truly-accessible-custom-interactive-components.">JavaScript is imperative for creating truly accessible custom interactive components</a>.</p>
<h2>Accessible Animated Star Rating</h2>
<p>I really liked the animated-star demo. I respect Marius for creating something I wouldn't have even thought of and I respect the anti-JS perspective even though I don't fully support it. But I wanted an accessible version. So, I decided to make my own:</p>
<iframe height="300" scrolling="no" title="Animated Star Rating" src="https://codepen.io/VAggrippino/embed/WbNJjaJ/4fe086a3871cec00f08be859ba56e6a6?default-tab=html%2Cresult" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true" style="width: 100%">
  See the Pen &amp;lt;a href="https://codepen.io/VAggrippino/pen/WbNJjaJ/4fe086a3871cec00f08be859ba56e6a6"&amp;gt;
  Animated Star Rating&amp;lt;/a&amp;gt; by Vince Aggrippino (&amp;lt;a href="https://codepen.io/VAggrippino"&amp;gt;@VAggrippino&amp;lt;/a&amp;gt;)
  on &amp;lt;a href="https://codepen.io"&amp;gt;CodePen&amp;lt;/a&amp;gt;.
</iframe>
<h2>Differences</h2>
<p>This is all based on <a href="https://codepen.io/VAggrippino/pen/gbOzWKW/74b4587171a4612d9823d9934fb1a045">an unmodified fork</a> I made of <a href="https://codepen.io/mariusgundersen/pen/jEOxqoe">the original</a> because people often fix or improve things right after sharing an initial version. Besides that, I'm kinda slow and I worried that it would change before I finished writing this ðŸ˜…</p>
<h3>The Original</h3>
<p>In the original animated-star demo, the stars were formed by a large blob of encoded SVG code in a CSS <code>background-image</code> and a different blob to define the <code>clip-path</code> of the gradient. It's long, unnecessarily complex, and would be difficult to reproduce without copying and pasting. The stars are hard-coded to be exactly <code>24px</code> and changing that would require complex changes to both the SVG and <code>clip-path</code>.</p>
<p>Although the stars are interactive components of the page, they aren't in the HTML at all. The HTML for the stars is just radio buttons that aren't even visible on the page. Combining <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:has"><code>:has()</code></a> with the <em>squiggle selector</em> (<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Subsequent-sibling_combinator">subsequent-sibling combinator</a>) makes it <em>look like</em> more than one star is selected, but there's really only ever one radio button <em>checked</em>. It's really clever, but it means that assistive technology has no way to tell how many stars are selected.</p>
<p>The user can select between 0 and 5 stars, but the widget shows seven stars and the purpose of those extra two isn't immediately clear. The first one is rendered on a row by itself and doesn't do anything when it's clicked. For each selected star one fifth of this star is <em>filled in</em>. The second extra star is never <em>filled in</em> and clicking on it allows the user to select zero stars.</p>
<p>The other five stars would usually represent a rating. Clicking on an empty star selects it and those that precede it. The only way to deselect a star is to click on the star before it.</p>
<p>Assistive technologies such as screen readers work best if every visual component of the page is present in the HTML and has an <a href="https://w3c.github.io/accname/#dfn-accessible-name">accessible name</a>. That's not as esoteric as it might seem. Properly written HTML has built-in accessible names. For example, radio buttons should have <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/label">labels</a> that give them accessible names.</p>
<p>When I test this page with a screen reader (<a href="https://www.nvaccess.org/about-nvda/">NVDA</a>), it just says "radio button not checked" 5 times and "radio button checked" once. It doesn't say anything about stars. In this context, that's totally fine. Marius was only doing a neat <code>conic-gradient()</code> animation and it does that very well. I'm gonna steal that idea for my version, but I'm gonna focus on accessibility.</p>
<h3>My Version</h3>
<p>Each star in my demo is a <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Reference/Attributes/aria-pressed">toggle button</a>. They're laid out with <a href="https://developer.mozilla.org/en-US/docs/Learn_web_development/Core/CSS_layout/Flexbox">flexbox</a> and sized with <a href="https://developer.mozilla.org/en-US/docs/Learn_web_development/Core/Styling_basics/Values_and_units#relative_length_units">relative units</a> so they can shrink and grow to match user preferences and the space provided. The star shapes themselves are inline SVG elements simple enough to reproduce by hand even with minimal SVG experience.</p>
<p>I use the same animation technique as Marius, but my gradient is applied to a pseudo-element. It can't be applied directly to the star because SVG doesn't support conic gradients and shapes don't have <code>background</code> properties (they use <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Reference/Attribute/fill"><code>fill</code></a>).</p>
<p>Like the original, the user can select between 0 and 5 stars, but there aren't any extra stars. To deselect a star, just click on it. Clicking a selected star that isn't on the end will deselect all the stars after it. The stars each have an offset <code>transition-delay</code> so that they seem to be selected sequentially.</p>
<p>All of the stars are present in the HTML and <a href="https://codepen.io/VAggrippino/pen/GRbeaGN">visually hidden</a> button text provides them with accessible names that identify them as "One Star", "Two Stars", and so on. There's also a <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Reference/Attributes/aria-live">live region</a> that allows assistive technology to announce changes in the current rating.</p>
<p>When I test my version with a screen reader, it reads each of the stars, which ones are pressed, and the current rating.</p>
<h2>Summary</h2>
<p>If you're a hobbyist or enthusiast, either choice is really fine. They both look nice and work well. I think the CSS-only version might earn you a little more <em>geek cred</em>.</p>
<p>If you're a professional, though, there's no choice. Accessibility is legally mandated and that requires JavaScript. An inaccessible website could subject you or your employer to fines or lawsuits. Again, don't take my word for it. Just do a web search for "accessibility lawsuits".</p>
<p>If you do use JavaScript, you may as well take advantage of the additional capabilities; like I did with the offset <code>transition-delay</code>. Just don't go overboard. Poorly implemented JavaScript can really ruin both the performance and accessibility of an otherwise excellent website. The key concepts are <a href="https://developer.mozilla.org/en-US/docs/Glossary/Progressive_Enhancement">progressive enhancement</a> and <a href="https://developer.mozilla.org/en-US/docs/Glossary/Graceful_degradation">graceful degradation</a>.</p>
</div>
    <div class="post__tags">
        In
        <ul class="post__tags__list">
            <li class="p-category post__tags__item">accessibility</li>
<li class="p-category post__tags__item">a11y</li>
<li class="p-category post__tags__item">HTML</li>
<li class="p-category post__tags__item">CSS</li>
<li class="p-category post__tags__item">JavaScript</li>
        </ul>
    </div>
    <div class="post__byline">Written by <a href="https://aggrippino.com" class="p-author h-card">Vince Aggrippino</a></div>
</article>

<section aria-labelledby="webmentions__heading" class="webmentions"><template id="webmention_template">
        <div data-id="0" class="webmention webmention-new">
            <div class="webmention__author">
                <div class="webmention__author__photo"></div>
                <div class="webmention__author__name"></div>
                <div class="webmention__author__link"></div>
            </div>
            <time data-received="0" datetime="0" class="webmention__date"></time>
            <div class="webmention__content"></div>
            <a class="webmention__link">Link to Webmention ()</a>
            <div class="webmention__meta">
                <div class="webmention__source">
                    <i aria-describedby="webmention-source-0" tabindex="0" class="fa-brands"></i>
                    <div id="webmention-source-0" role="tooltip">Action</div>
                </div>
                <div class="webmention__type">
                    <i aria-describedby="webmention-type-0" tabindex="0" class="fa-solid"></i>
                    <div id="webmention-type-0" role="tooltip">wm-property</div>
                </div>
            </div>
        </div>
    </template>

    <h2 id="webmentions__heading" class="webmentions__heading">Webmentions</h2>

    
</section>

</main>
    <footer class="footer">
    <div class="footer__webmentions">
        <p>
            This page uses <a href="https://indieweb.org/Webmention">Webmention</a>:
        </p>
        <p>
            This site uses <a href="https://webmention.io">Webmention.io</a> to
            receive webmentions.
            If you'd like to see all Webmentions for aggrippino.com,
            <a href="https://webmention.io/api/mentions.html?token=Y_KpI9--Xwxe4RZbVSCaeg">click here</a>.
        </p>
        <p class="footer__webmentions__count">
            Webmentions for this page: <span class="webmentions__count__counter">0</span>
        </p>
    </div>
</footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/dayjs/1.11.13/dayjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dayjs/1.11.13/plugin/advancedFormat.min.js"></script>
    
    <script src="/js/parseWebmentions.js"></script>
    <script src="/js/main.js"></script>

</body>
</html>